{"version":3,"file":"ngx-mat-tag-input.js","sources":["ng://ngx-mat-tag-input/lib/ngx-mat-tag-input.component.ts","ng://ngx-mat-tag-input/lib/ngx-mat-tag-input.module.ts","ng://ngx-mat-tag-input/public-api.ts","ng://ngx-mat-tag-input/ngx-mat-tag-input.ts"],"sourcesContent":["import {Component, ElementRef, EventEmitter, forwardRef, Input, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {ControlValueAccessor, FormControl, NG_VALUE_ACCESSOR} from '@angular/forms';\r\nimport {COMMA, ENTER} from '@angular/cdk/keycodes';\r\nimport {MatFormFieldAppearance} from '@angular/material/form-field';\r\nimport {MatAutocompleteSelectedEvent} from '@angular/material/autocomplete';\r\nimport {MatChipInputEvent} from '@angular/material/chips';\r\n\r\nimport {Observable} from 'rxjs';\r\nimport {map, startWith} from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'ngx-mat-tag-input',\r\n  templateUrl: './ngx-mat-tag-input.component.html',\r\n  styleUrls: ['./ngx-mat-tag-input.component.scss'],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => NgxMatTagInputComponent),\r\n      multi: true\r\n    }\r\n  ]\r\n})\r\nexport class NgxMatTagInputComponent implements OnInit, ControlValueAccessor {\r\n\r\n  @Input() appearance: MatFormFieldAppearance;\r\n  @Input() readonly: boolean;\r\n  @Input() items: any[] = [];\r\n  @Input() placeholder: string;\r\n  @Input() displayBy: string;\r\n  @Input() isLoading: boolean;\r\n  @Input() selectedTags: any[] = [];\r\n\r\n  @Output() reset = new EventEmitter();\r\n  @Output() ngModelChange = new EventEmitter();\r\n  @Output() change = new EventEmitter();\r\n  @Output() focus = new EventEmitter();\r\n  @Output() select = new EventEmitter();\r\n  @Output() touched = new EventEmitter();\r\n\r\n  @ViewChild('tagsInput') tagsInput: ElementRef<HTMLInputElement>;\r\n\r\n  public separatorKeysCodes: number[] = [ENTER, COMMA];\r\n  public searchControl = new FormControl();\r\n  public filteredItems: Observable<any[]>;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  get value(): any[] {\r\n    return this.selectedTags;\r\n  }\r\n\r\n  set value(value: any[]) {\r\n    this.selectedTags = value;\r\n    this.onChange(value);\r\n    this._change(value);\r\n    this.onTouched();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.filteredItems = this.searchControl.valueChanges.pipe(\r\n      startWith(null),\r\n      map((tag: any | null) => tag ? this._filter(tag) : this.items.slice()));\r\n  }\r\n\r\n  onChange: any = () => {\r\n  }\r\n\r\n  onTouched: any = () => {\r\n  }\r\n\r\n  writeValue(obj: any): void {\r\n    if (obj) {\r\n      this.value = obj;\r\n    }\r\n    if (obj === null) {\r\n      this.value = [];\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: any): void {\r\n    this.change.emit(fn);\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: any): void {\r\n    this.onTouched = fn;\r\n    this.touched.emit(fn);\r\n  }\r\n\r\n  setDisabledState?(isDisabled: boolean): void {\r\n    this.searchControl.disable();\r\n  }\r\n\r\n  _modelChange(event): void {\r\n    this.ngModelChange.emit(event)\r\n  }\r\n\r\n  _change(event): void {\r\n    this.change.emit(event);\r\n  }\r\n\r\n  _focus(event): void {\r\n    this.focus.emit(event)\r\n  }\r\n\r\n  add(event: MatChipInputEvent): void {\r\n    const input = event.input;\r\n    const value = event.value;\r\n    if ((value || '').trim()) {\r\n      this.selectedTags.push(value.trim());\r\n    }\r\n    if (input) {\r\n      input.value = '';\r\n    }\r\n    this.searchControl.setValue(null);\r\n    this._change(this.selectedTags);\r\n  }\r\n\r\n  remove(fruit: any): void {\r\n    const index = this.selectedTags.indexOf(fruit);\r\n    if (index >= 0) {\r\n      this.selectedTags.splice(index, 1);\r\n    }\r\n    this._change(this.selectedTags);\r\n  }\r\n\r\n  selected(event: MatAutocompleteSelectedEvent): void {\r\n    this.pushTag(event.option.value);\r\n    this.tagsInput.nativeElement.value = '';\r\n    this.searchControl.setValue(null);\r\n    this.select.emit(event.option.value);\r\n  }\r\n\r\n  clear(): void {\r\n    this.selectedTags = [];\r\n  }\r\n\r\n  pushTag(tag: any): void {\r\n    if (!this.selectedTags.includes(tag)) {\r\n      this.selectedTags.push(tag);\r\n      this._change(this.selectedTags);\r\n    }\r\n  }\r\n\r\n  private _filter(value: any): string[] {\r\n    const filterValue = (this.displayBy && value[this.displayBy] ? value[this.displayBy] : value).toLowerCase();\r\n    if (this.displayBy) {\r\n      return this.items.filter(option => option[this.displayBy].toLowerCase().includes(filterValue));\r\n    } else {\r\n      return this.items.filter(option => option.toLowerCase().includes(filterValue));\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","import {NgModule} from '@angular/core';\r\n\r\nimport {CommonModule} from '@angular/common';\r\nimport {MatFormFieldModule} from '@angular/material/form-field';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\r\nimport {MatButtonModule} from '@angular/material/button';\r\n\r\nimport {NgxMatTagInputComponent} from './ngx-mat-tag-input.component';\r\n\r\n@NgModule({\r\n  declarations: [NgxMatTagInputComponent],\r\n  imports: [\r\n    CommonModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    FormsModule,\r\n    MatInputModule,\r\n    ReactiveFormsModule,\r\n    MatMenuModule,\r\n    MatChipsModule,\r\n    MatAutocompleteModule,\r\n    MatProgressSpinnerModule,\r\n    MatButtonModule\r\n  ],\r\n  exports: [NgxMatTagInputComponent]\r\n})\r\nexport class NgxMatTagInputModule {\r\n}\r\n","/*\r\n * Public API Surface of ngx-mat-tag-input\r\n */\r\n\r\n\r\nexport * from './lib/ngx-mat-tag-input.component';\r\nexport * from './lib/ngx-mat-tag-input.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}